{"version":3,"names":["_react","require","_ChatContext","_TranslationContext","_useTranslatedMessage","_utils","getMessageSenderName","message","currentUserId","t","membersLength","_message$user","user","id","_message$user2","_message$user3","_message$user4","name","username","getMentionUsers","mentionedUser","Array","isArray","mentionUserString","reduce","acc","cur","userName","concat","length","replace","match","getLatestMessageDisplayText","channel","client","_message$attachments","bold","text","isMessageTypeDeleted","type","userID","members","Object","keys","state","messageSender","messageSenderText","boldOwner","includes","shortenedText","substring","mentionedUsers","mentioned_users","regEx","RegExp","_toConsumableArray2","split","index","test","push","command","attachments","MessageReadStatus","exports","getLatestMessageReadStatus","readEvents","_message$user5","NOT_SENT_BY_CURRENT_USER","readList","assign","read","messageUpdatedAt","updated_at","Date","undefined","values","some","_ref","last_read","READ","UNREAD","getLatestMessagePreview","params","lastMessage","messages","created_at","messageObject","previews","status","channelStateLastMessage","useLatestMessagePreview","forceUpdate","_useChatContext","useChatContext","_useTranslationContex","useTranslationContext","channelConfigExists","getConfig","translatedLastMessage","useTranslatedMessage","channelLastMessageString","stringifyMessage","_useState","useState","_useState2","_slicedToArray2","setReadEvents","_useState3","_useState4","latestMessagePreview","setLatestMessagePreview","readStatus","useEffect","_channel$getConfig","read_events"],"sourceRoot":"../../../../../src","sources":["components/ChannelPreview/hooks/useLatestMessagePreview.ts"],"mappings":"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","ignoreList":[]}
